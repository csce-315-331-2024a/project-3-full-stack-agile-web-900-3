<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Manager Table</title>
  <link rel="stylesheet" href="manager.css">
  <script src="https://unpkg.com/htmx.org@1.8.1/dist/htmx.min.js"></script>
</head>
<body>

<div th:fragment= "manager-list" class = "manager-list">
  <!-- th: is thymleaf and the each tag is saying each value in the products table and the   ${manager} linkes it to the manager controller logic-->
    <div  class = "products line" th:each="products: ${manager}">
  
  
      <!-- this line is displaying the id attrabute of a row in a product table -->
      <!-- <div class = "id" th:text="${products.product_id}">ID</div> -->
      <div class = "name" th:text="${products.productname}">Name</div>
      <div class = "price" th:text="${products.price}">Price</div>
      <div class = "product type" th:text="${products.product_type}">Type</div>
      <div class = "buttons">
          <button 
          
                  th:attr = "hx-delete = @{/manager/{id}(id = ${products.product_id})}"  
                  hx-swap = "outerHTML"
                  hx-target = "closest .products"
                  
                  >
                  <!-- th:attr is a thymeleaf attribute and hx-delete is a htmx function @{/manager/{id}(id = ${products.product_id})} is mapping for the path varible id and then its saying that id is equal to the corresponding product id in the products table -->
                  Delete
  
          </button>
  
      </div>
  
    </div>
</div>
    <div id = "addProduct">
      <div class = "line products">
        
        <input type = "text" name = "new-productsName" id = "new-productsName" placeholder = "name"/>
        <input type = "price" name = "new-productsPrice" id = "new-productsPrice" placeholder="price"/>
        <select type = "type" name = "new-productsType" id = "new-productsType" placeholder="Type">
          <option value="burger">Burger</option>
          <option value="sandwich">Sandwich</option>
          <option value="sweet">Sweet</option>
          <option value="sauce">Sauce</option>
          <option value="beverage">Beverage</option>
          <option value="salad">Salad</option>
          <option value="seasonal">Seasonal</option>
          <option value="coffee">Coffee</option>
        </select>
        <div class = "buttons">
          <button 
          hx-post ="/manager"
          hx-include = "#new-productsName, #new-productsPrice, #new-productsType"
          hx-target = ".manager-list"
          >Add</button>
        </div>
      </div>
      
  </div>

  <div th:fragment="inventory-list" class="inventory-list">
    <div class="inventory line" th:each="inventory : ${manager}">
        <div class="name" th:text="${inventory.name}">Name</div>
        <div class="type" th:text="${inventory.type}">Type</div>
        <div class="quantity" th:text="${inventory.quantity}">Quantity</div>
        <div class="unit" th:text="${inventory.unit}">Unit</div>
        <div class="lowThreshold" th:text="${item.lowThreshold}">Low Threshold</div>
        <div class="orderDate" th:text="${item.orderDate}">Order Date</div>
        <div class="buttons">
            <!-- <button
                th:attr="hx-delete=@{/deleteInventory/{Itemid}(Itemid=${item.id})}"
                hx-swap="outerHTML"
                hx-target="closest .inventory">
                Delete
            </button> -->
        </div>
    </div>
  </div>

  <!-- <div id="addInventory" class="line inventory">
    <input type="text" name="name" id="inventoryName" placeholder="Name" />
    <input type="text" name="type" id="inventoryType" placeholder="Type" />
    <input type="number" name="quantity" id="inventoryQuantity" placeholder="Quantity" />
    <input type="text" name="unit" id="inventoryUnit" placeholder="Unit" />
    <input type="number" name="lowThreshold" id="inventoryLowThreshold" placeholder="Low Threshold" />
    <input type="date" name="orderDate" id="inventoryOrderDate" placeholder="Order Date" />
    <div class="buttons">
        <button
            hx-post="/manager/addInventory"
            hx-include="#inventoryName, #inventoryType, #inventoryQuantity, #inventoryUnit, #inventoryLowThreshold, #inventoryOrderDate"
            hx-target=".inventory-list"
            hx-swap="beforeend">
            Add Inventory
        </button>
    </div>
  </div> -->

  </body>
</html>
