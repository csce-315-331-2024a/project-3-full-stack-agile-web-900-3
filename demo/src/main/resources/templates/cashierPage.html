<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="/cashierPage.css"></link>
<title>Cashier Page</title>
<style>
  
</style>
</head>
<body>
<div class="container">
    <div class="sidebar">
        <h2>Current Order</h2>
        <!-- <p id="outputText"></p> -->
        <div id="outputContainer"></div>
        <p id="orderTotal">Order Total: </p>
        <button id="placeOrder">Place Order</button>
        
    </div>
    <div class="grid">
  <div class="grid-item" th:each="item: ${products}">
    
    <button class="button" id="${item.product_type}" th:text="${item.productname}">button</button>
  </div>
</div>
</div>
<div class="sub-grid">
    <!-- Grid of smaller buttons -->
    <button class="small-button">Small Button 1</button>
    <button class="small-button">Small Button 2</button>
    <button class="small-button">Small Button 3</button>
    <button class="small-button">Small Button 4</button>
    <button class="small-button">Small Button 5</button>
    <button class="small-button">Small Button 6</button>
    <button class="small-button">Small Button 7</button>
    <button class="small-button">Small Button 8</button>
    <button class="small-button">Small Button 9</button>
  </div>

<script>

  // var outputParagraph = document.getElementById('outputText');
  // var buttons = document.getElementsByClassName('button');
  // for (var i = 0; i < buttons.length; i++) {
  //   buttons[i].addEventListener('click', function() {
  //     outputParagraph.textContent = outputParagraph.textContent +" | \n" + this.textContent;
  //   });
  // }

  // function updateText() {
  //   var newText = document.getElementById('newText').value;
  //   var xhr = new XMLHttpRequest();
  //   xhr.open("POST", "/updateText", true);
  //   xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
  //   xhr.send("newText=" + newText);
  //   xhr.onreadystatechange = function() {
  //       if (xhr.readyState === 4 && xhr.status === 200) {
  //           document.getElementById('outputText').textContent = xhr.responseText;
  //       }
  //   }
//}


  var outputContainer = document.getElementById('outputContainer');
  var buttons = document.getElementsByClassName('button');

  for (var i = 0; i < buttons.length; i++) {
    buttons[i].addEventListener('click', function() {
      var itemName = this.textContent;
      addItemToList(itemName);
    });
  }

  function addItemToList(itemName) {
    var itemButton = document.createElement('button');
    itemButton.textContent = itemName + ' (x1)';
    itemButton.classList.add('ordered-item');
    itemButton.addEventListener('click', function() {
      // Add functionality to edit item quantity if necessary
      // For now, let's assume it's simply removing the item
      this.remove();
    });
    outputContainer.appendChild(itemButton);
  }

  function updateText() {
    var newText = document.getElementById('newText').value;
    var xhr = new XMLHttpRequest();
    xhr.open("POST", "/updateText", true);
    xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
    xhr.send("newText=" + newText);
    xhr.onreadystatechange = function() {
        if (xhr.readyState === 4 && xhr.status === 200) {
            document.getElementById('outputText').textContent = xhr.responseText;
        }
    }
  }

</script>
</body>
</html>